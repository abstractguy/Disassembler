// printing_management.c
#include "printing_management.h"

  static char **mnemonics[256] = {
    "NOP\n",
    "AJMP 0x%4.4X\n",
    "LJMP 0x%4.4X\n",
    "RR A\n",
    "INC A\n",
    "INC 0x%X2.2\n",
    "INC @R0\n",
    "INC @R1\n",
    "INC R0\n",
    "INC R1\n",
    "INC R2\n",
    "INC R3\n",
    "INC R4\n",
    "INC R5\n",
    "INC R6\n",
    "INC R7\n",
    "JBC 0x%2.2X, 0x%2.2X\n",
    "ACALL 0x%4.4X\n",
    "LCALL 0x%4.4X\n",
    "RRC A\n",
    "DEC A\n",
    "DEC 0x%2.2X\n",
    "DEC @R0\n",
    "DEC @R1\n",
    "DEC R0\n",
    "DEC R1\n",
    "DEC R2\n",
    "DEC R3\n",
    "DEC R4\n",
    "DEC R5\n",
    "DEC R6\n",
    "DEC R7\n",
    "JB 0x%2.2X, 0x%2.2X\n",
    "AJMP 0x%4.4X\n",
    "RET\n",
    "RL A\n",
    "ADD A, 0x%2.2X\n",
    "ADD A, 0x%2.2X\n",
    "ADD A, @R0\n",
    "ADD A, @R1\n",
    "ADD A, R0\n",
    "ADD A, R1\n",
    "ADD A, R2\n",
    "ADD A, R3\n",
    "ADD A, R4\n",
    "ADD A, R5\n",
    "ADD A, R6\n",
    "ADD A, R7\n",
    "JNB 0x%2.2X, 0x%2.2X\n",
    "ACALL 0x%4.4X\n",
    "RETI\n",
    "RLC A\n",
    "ADDC A, 0x%2.2X\n",
    "ADDC A, 0x%2.2X\n",
    "ADDC A, @R0\n",
    "ADDC A, @R1\n",
    "ADDC A, R0\n",
    "ADDC A, R1\n",
    "ADDC A, R2\n",
    "ADDC A, R3\n",
    "ADDC A, R4\n",
    "ADDC A, R5\n",
    "ADDC A, R6\n",
    "ADDC A, R7\n",
    "JC 0x%2.2X\n",
    "AJMP 0x%4.4X\n",
    "ORL 0x%2.2X, A\n",
    "ORL 0x%2.2X, 0x%2.2X\n",
    "ORL A, 0x%2.2X\n",
    "ORL A, 0x%2.2X\n",
    "ORL A, @R0\n",
    "ORL A, @R1\n",
    "ORL A, R0\n",
    "ORL A, R1\n",
    "ORL A, R2\n",
    "ORL A, R3\n",
    "ORL A, R4\n",
    "ORL A, R5\n",
    "ORL A, R6\n",
    "ORL A, R7\n",
    "JNC 0x%2.2X\n",
    "ACALL 0x%4.4X\n",
    "ANL 0x%2.2X, A\n",
    "ANL 0x%2.2X, 0x%2.2X\n",
    "ANL A, 0x%2.2X\n",
    "ANL A, 0x%2.2X\n",
    "ANL A, @R0\n",
    "ANL A, @R1\n",
    "ANL A, R0\n",
    "ANL A, R1\n",
    "ANL A, R2\n",
    "ANL A, R3\n",
    "ANL A, R4\n",
    "ANL A, R5\n",
    "ANL A, R6\n",
    "ANL A, R7\n",
    "JZ 0x%2.2X\n",
    "AJMP 0x%4.4X\n",
    "XRL 0x%2.2X, A\n",
    "XRL 0x%2.2X, 0x%2.2X\n",
    "XRL A, 0x%2.2X\n",
    "XRL A, 0x%2.2X\n",
    "XRL A, @R0\n",
    "XRL A, @R1\n",
    "XRL A, R0\n",
    "XRL A, R1\n",
    "XRL A, R2\n",
    "XRL A, R3\n",
    "XRL A, R4\n",
    "XRL A, R5\n",
    "XRL A, R6\n",
    "XRL A, R7\n",
    "JNZ 0x%2.2X\n",
    "ACALL 0x%4.4X\n",
    "ORL C, 0x%2.2X\n",
    "JMP @A+DPTR\n",

    // Rendu ici...
    {"MOV " , "" , ""} , '0x',','\0' , '0x',',',',',','\0' ,
    {"MOV " , "" , ""} , '0x',',',',',',','\0' , '0x',',',',',','\0' ,
    {"MOV " , " @R0 " , ""} , '0x',',',',',','\0' ,
    {"MOV " , " @R1 " , ""} , '0x',',',',',','\0' ,
    {"MOV " , " R0 " , ""} , '0x',',',',',','\0' ,
 {"MOV " , " R1 " , ""} , '0x',',',',',','\0' ,
   {"MOV " , " R2 " , ""} , '0x',',',',',','\0' ,
 {"MOV " , " R3 " , ""} , '0x',',',',',','\0' ,
    {"MOV " , " R4 " , ""} , '0x',',',',',','\0' ,
 {"MOV " , " R5 " , ""} , '0x',',',',',','\0' ,
    {"MOV " , " R6 " , ""} , '0x',',',',',','\0' ,
 {"MOV " , " R7 " , ""} , '0x',',',',',','\0' ,
    {"SJMP " , ""} , '0x',',',',',',','\0' ,
 {"AJMP " , ""} , '0x',',',',',',','\0' ,
    {"ANL " , "" , ""} , '0x',','\0' , '0x',',',','\0' ,
    {"MOVC " , "" , " @" , "" , " + " , ""} , '0x',','\0' , '0x',','\0' , '0x',',','\0' ,
    {"DIV " , "" , ""} , '0x',','\0' , '0x',','\0' ,
 {"MOV " , "" , ""} , '0x',',',',',',','\0' , '0x',',',',',',','\0' ,
    {"MOV " , "" , " @R0 "} , '0x',',',',',',','\0' ,
    {"MOV " , "" , " @R1 "} , '0x',',',',',',','\0' ,
 {"MOV " , "" , " R0 "} , '0x',',',',',',','\0' ,
   {"MOV " , "" , " R1 "} , '0x',',',',',',','\0' ,
 {"MOV " , "" , " R2 "} , '0x',',',',',',','\0' ,
   {"MOV " , "" , " R3 "} , '0x',',',',',',','\0' ,
 {"MOV " , "" , " R4 "} , '0x',',',',',',','\0' ,
    {"MOV " , "" , " R5 "} , '0x',',',',',',','\0' ,
 {"MOV " , "" , " R6 "} , '0x',',',',',',','\0' ,
    {"MOV " , "" , " R7 "} , '0x',',',',',',','\0' ,
    {"MOV " , "", ""} , '0x',',',',','\0' , '0x',',',',',','\0' , 
    {"ACALL " , ""} , '0x',',',',',',','\0' ,
 {"MOV " , "", ""} , '0x',',',','\0' , '0x',','\0' ,
    {"MOVC " , "" , " @ " , "" , " + " , ""} , '0x',','\0' , '0x',','\0' , '0x',',',',','\0' ,
    {"SUBB " , "" , ""} , '0x',','\0' , '0x',',',',',','\0' ,
 {"SUBB " , "" , ""} , '0x',','\0' , '0x',',',',',',','\0' ,
    {"SUBB " , "" , " @R0 "} , '0x',','\0' ,
 {"SUBB " , "" , " @R1 "} , '0x',','\0' ,
    {"SUBB " , "" , " R0 "} , '0x',','\0' ,
 {"SUBB " , "" , " R1 "} , '0x',','\0' ,
    {"SUBB " , "" , " R2 "} , '0x',','\0' ,
 {"SUBB " , "" , " R3 "} , '0x',','\0' ,
    {"SUBB " , "" , " R4 "} , '0x',','\0' ,
 {"SUBB " , "" , " R5 "} , '0x',','\0' ,
    {"SUBB " , "" , " R6 "} , '0x',','\0' ,
 {"SUBB " , "" , " R7 "} , '0x',','\0' ,
    {"ORL " , "" , "" , ""} , '0x',','\0' , '0x',',',','\0' , '0x',',',','\0' ,
 {"AJMP " , ""} , '0x',',',',',',','\0' ,
    {"MOV " , "" , ""} , '0x',','\0' , '0x',',',','\0' ,
 {"INC " , ""} , '0x',',',',','\0' ,
 {"MUL " , "" , ""} , '0x',','\0' , '0x',','\0' ,
    {"RESERVED "} , 
 {"MOV " , " @R0 " , ""} , '0x',',',',',',','\0' ,
    {"MOV " , " @R1 " , ""} , '0x',',',',',',','\0' ,
 {"MOV " , " R0 " , ""} , '0x',',',',',',','\0' ,
    {"MOV " , " R1 " , ""} , '0x',',',',',',','\0' ,
 {"MOV " , " R2 " , ""} , '0x',',',',',',','\0' ,
    {"MOV " , " R3 " , ""} , '0x',',',',',',','\0' ,
 {"MOV " , " R4 " , ""} , '0x',',',',',',','\0' ,
    {"MOV " , " R5 " , ""} , '0x',',',',',',','\0' ,
 {"MOV " , " R6 " , ""} , '0x',',',',',',','\0' ,
    {"MOV " , " R7 " , ""} , '0x',',',',',',','\0' ,
 {"ANL " , "" , "" , ""} , '0x',','\0' , '0x',',',','\0' , '0x',',',','\0' ,
    {"ACALL " , ""} , '0x',',',',',',','\0' ,
 {"CPL " , ""} , '0x',',',','\0' ,
 {"CPL " , ""} , '0x',','\0' ,
   {"CJNE " , "" , "" , ""} , '0x',','\0' , '0x',',',',',','\0' , '0x',',',',',',','\0' ,
   {"CJNE " , "" , "" , ""} , '0x',','\0' , '0x',',',',',',','\0' , ,'0x',',',',',',','\0' ,
    {"CJNE " , " @R0 " , "" , ""} , '0x',',',',',','\0' , '0x',',',',',',','\0' ,
    {"CJNE " , " @R1 " , "" , ""} , '0x',',',',',','\0' , '0x',',',',',',','\0' ,
    {"CJNE " , " R0 " , "" , ""} , '0x',',',',',','\0' , '0x',',',',',',','\0' ,
    {"CJNE " , " R1 " , "" , ""} , '0x',',',',',','\0' , '0x',',',',',',','\0' ,
    {"CJNE " , " R2 " , "" , ""} , '0x',',',',',','\0' , '0x',',',',',',','\0' ,
    {"CJNE " , " R3 " , "" , ""} , '0x',',',',',','\0' , '0x',',',',',',','\0' ,
    {"CJNE " , " R4 " , "" , ""} , '0x',',',',',','\0' , '0x',',',',',',','\0' ,
    {"CJNE " , " R5 " , "" , ""} , '0x',',',',',','\0' , '0x',',',',',',','\0' ,
    {"CJNE " , " R6 " , "" , ""} , '0x',',',',',','\0' , '0x',',',',',',','\0' ,
    {"CJNE " , " R7 " , "" , ""} , '0x',',',',',','\0' , '0x',',',',',',','\0' ,
    {"PUSH " , ""} , '0x',',',',',',','\0' ,
 {"AJMP " , ""} , '0x',',',',',',','\0' ,
    {"CLR " , ""} , '0x',',',','\0' ,
 {"CLR " , ""} , '0x',','\0' ,
 {"SWAP " , ""} , '0x',','\0' ,
    {"XCH " , "" , ""} , '0x',','\0' , '0x',',',',',',','\0' ,
 {"XCH " , "" , " @R0 "} , '0x',','\0' ,
   {"XCH " , "" , " @R1 "} , '0x',','\0' ,
 {"XCH " , "" , " R0 "} , '0x',','\0' ,
    {"XCH " , "" , " R1 "} , '0x',','\0' ,
 {"XCH " , "" , " R2 "} , '0x',','\0' ,
    {"XCH " , "" , " R3 "} , '0x',','\0' ,
 {"XCH " , "" , " R4 "} , '0x',','\0' ,
    {"XCH " , "" , " R5 "} , '0x',','\0' ,
 {"XCH " , "" , " R6 "} , '0x',','\0' ,
    {"XCH " , "" , " R7 "} , '0x',','\0' ,
 {"POP " , ""} , '0x',',',',',',','\0' ,
    {"ACALL " , ""} , '0x',',',',',',','\0' ,
 {"SETB " , ""} , '0x',',',','\0' ,
    {"SETB " , ""} , '0x',','\0' ,
 {"DA " , ""} , '0x',','\0' ,
 {"DNJZ " , " R0 " , ""} , '0x',',',',',',','\0' ,
    {"DNJZ " , " R1 " , ""} , '0x',',',',',',','\0' ,
 {"DNJZ " , " R2 " , ""} , '0x',',',',',',','\0' ,
    {"DNJZ " , " R3 " , ""} , '0x',',',',',',','\0' ,
 {"DNJZ " , " R4 " , ""} , '0x',',',',',',','\0' ,
    {"DNJZ " , " R5 " , ""} , '0x',',',',',',','\0' ,
 {"DNJZ " , " R6 " , ""} , '0x',',',',',',','\0' ,
    {"DNJZ " , " R7 " , ""} , '0x',',',',',',','\0' ,
    {"MOVX " , "" , " @ " , ""} , '0x',','\0' , '0x',',',',','\0' ,
 {"AJMP " , ""} , '0x',',',',',',','\0' ,
    {"MOVX " , "" , " @R0 "} , '0x',','\0' ,
 {"MOVX " , "" , " @R1 "} , '0x',','\0' ,
    {"CLR " , ""} , '0x',','\0' ,
 {"MOV " , "" , ""} , '0x',','\0' , '0x',',',',',',','\0' ,
    {"MOV " , "" , " @R0 "} , '0x',','\0' ,
 {"MOV " , "" , " @R1 "} , '0x',','\0' ,
    {"MOV " , "" , " R0 "} , '0x',','\0' ,
 {"MOV " , "" , " R1 "} , '0x',','\0' ,
    {"MOV " , "" , " R2 "} , '0x',','\0' ,
 {"MOV " , "" , " R3 "} , '0x',','\0' ,
    {"MOV " , "" , " R4 "} , '0x',','\0' ,
 {"MOV " , "" , " R5 "} , '0x',','\0' ,
    {"MOV " , "" , " R6 "} , '0x',','\0' ,
 {"MOV " , "" , " R7 "} , '0x',','\0' ,
    {"MOVX " , " @ " , "", "" } , '0x',',',',','\0' , '0x',','\0' ,
 {"ACALL " , ""} , '0x',',',',',',','\0' ,
    {"MOVX " , " @R0 " , ""} , '0x',','\0' ,
 {"MOVX " , " @R1 " , ""} , '0x',','\0' ,
    {"CPL " , ""} , '0x',','\0' ,
 {"MOV " , "" , ""} , '0x',',',',',',','\0' , '0x',','\0' ,
    {"MOV " , " @R0 " , ""} , '0x',','\0' ,
 {"MOV " , " @R1 " , ""} , '0x',','\0' ,
    {"MOV " , " R0 " , ""} , '0x',','\0' ,
 {"MOV " , " R1 " , ""} , '0x',','\0' ,
    {"MOV " , " R1 " , ""} , '0x',','\0' ,
 {"MOV " , " R2 " , ""} , '0x',','\0' ,
    {"MOV " , " R3 " , ""} , '0x',','\0' ,
 {"MOV " , " R4 " , ""} , '0x',','\0' ,
    {"MOV " , " R5 " , ""} , '0x',','\0' ,
 {"MOV " , " R6 " , ""} , '0x',','\0' ,
    {"MOV " , " R7 " , ""};'0x',','\0' ,
 }









unsigned char **extract_arguments(record *record) {
  unsigned char **argument_strings = NULL;

  if (record->size > 0) {
    // Detruire apres utilisation -->
    argument_strings = create_strings(record->size - 1);
    // ...
  }

  return argument_strings;
}

unsigned char *bytevector_to_string(unsigned char *bytevector, unsigned char size) {
  // Detruire apres utilisation -->
  unsigned char *string = create_bytevector(size * 2 + 1);

  string[size - 1] = '\0';

  // ...

  return string;
}

unsigned char *record_to_string(record *record) {
  // Detruire apres utilisation -->
  unsigned char **strings = extract_arguments(record);
  unsigned char *string = NULL, string_size, i = 0;

  string_size = // ...

  // Detruire apres utilisation -->
  string = create_bytevector(string_size);

  // ...

  return string;
}

void print_instruction(record *record) {
  
}
